---
import { getCollection } from "astro:content";
import "../styles/global.css";
import Baselayout from "../layouts/Baselayout.astro";
import Blogpostlist from "../components/Blog-post-list.astro";

// const allPosts = await Astro.glob("../pages/posts/*.md");
const allPosts = await getCollection("posts");
const pageTitle = "Jibberish Musings";
---

<Baselayout pageTitle={pageTitle}>
  <p>Here you will find incredible things</p>
  <ul>
    {
      allPosts.map((post) => (
        // <Blogpostlist url={post.url} title={post.frontmatter.title} />
        <Blogpostlist url={`/posts/${post.slug}/`} title={post.data.title} />
      ))
    }
  </ul>
</Baselayout>
